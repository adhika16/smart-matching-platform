# Laravel Job Board - AI Coding Agent Instructions

> **Note:** Additional guidance lives in `/.github/instructions/authorization.instructions.md`, `/.github/instructions/requirement.instructions.md`, and `/resources/...` scoped rules from `/.github/instructions/resource.instructions.md`. Review those documents before making changes to ensure role-based auth, platform requirements, and frontend conventions are respected.

## Architecture Overview

This is a **Laravel + Inertia.js + React** application using **Laravel Wayfinder** for type-safe routing and form handling. The architecture follows a hybrid SPA pattern where React components are rendered server-side via Inertia.js.

### Key Technologies Stack
- **Backend**: Laravel 12, Laravel Fortify (auth), SQLite database
- **Frontend**: React 19, TypeScript, TailwindCSS v4, Radix UI components
- **Build**: Vite with SSR support, Laravel Vite Plugin
- **Testing**: Pest PHP testing framework
- **Code Quality**: Laravel Pint (PHP), ESLint + Prettier (TypeScript/React)

## Critical Development Patterns

### Laravel Wayfinder Integration
This project uses Laravel Wayfinder for type-safe routing and form handling:

- **Generated Routes**: Routes are auto-generated in `resources/js/routes/` from PHP route definitions
- **Generated Actions**: Form controllers are auto-generated in `resources/js/actions/` from PHP controllers
- **Import Pattern**: Use imports like `AuthenticatedSessionController.store.form()` for forms
- **Route Helper**: Use route helpers like `login()`, `dashboard()`, `register()` from `@/routes`

### Authentication Architecture
- **Laravel Fortify** handles authentication with custom Inertia views
- **Two-Factor Authentication** is enabled but most features are commented out in `config/fortify.php`
- **Auth Controllers**: Located in `app/Http/Controllers/Auth/` with corresponding React pages in `resources/js/pages/auth/`
- **Auth Layouts**: Multiple layout variants in `resources/js/layouts/auth/` (simple, card, split)

### Form Handling Pattern
```tsx
// Use Wayfinder-generated form actions
<Form
    {...AuthenticatedSessionController.store.form()}
    resetOnSuccess={['password']}
    className="flex flex-col gap-6"
>
    {({ processing, errors }) => (
        // Form fields with error handling
    )}
</Form>
```

## Essential File Locations

### Generated Files (Git Ignored)
- `resources/js/actions/` - Auto-generated form actions from PHP controllers
- `resources/js/routes/` - Auto-generated route helpers from Laravel routes
- `resources/js/wayfinder/` - Wayfinder type definitions

### Key Configuration
- `vite.config.ts` - Wayfinder plugin with `formVariants: true`
- `config/fortify.php` - Authentication features (most disabled except 2FA)
- `routes/auth.php` - Authentication routes
- `routes/settings.php` - User settings routes

### Component Structure
- `resources/js/components/ui/` - Radix UI components (shadcn/ui style)
- `resources/js/layouts/` - Page layouts including auth layouts
- `resources/js/pages/` - Inertia page components

## Development Workflows

### Build Commands
- `npm run dev` - Start Vite development server
- `npm run build:ssr` - Build for production with SSR
- `npm run types` - TypeScript type checking
- `npm run lint` - ESLint with auto-fix
- `npm run format` - Prettier formatting

### PHP Commands
- `php artisan serve` - Laravel development server
- `./vendor/bin/pest` - Run Pest tests
- `./vendor/bin/pint` - PHP code formatting

### Testing Strategy
- **PHP Tests**: Pest framework in `tests/Feature/` and `tests/Unit/`
- **Auth Tests**: Comprehensive authentication testing in `tests/Feature/Auth/`
- **Test Pattern**: Uses `test()` function syntax, not class-based

## Project-Specific Conventions

### Styling Approach
- **TailwindCSS v4** with custom CSS variables in `resources/css/app.css`
- **Dark Mode**: System-based theme switching with `use-appearance` hook
- **Component Library**: Radix UI primitives with custom styling

### TypeScript Integration
- **Strict TypeScript**: `tsconfig.json` with strict mode enabled
- **Inertia Types**: Shared data types in `resources/js/types/`
- **Route Types**: Auto-generated by Wayfinder for type-safe routing

### Database
- **SQLite**: Default database for development (`database/database.sqlite`)
- **Migrations**: Standard Laravel migrations in `database/migrations/`
- **2FA Setup**: Two-factor columns added via migration

## Integration Points

### Inertia.js Data Flow
- **Server-Side**: Controllers return `Inertia::render()` with data props
- **Client-Side**: React components receive props via `usePage<SharedData>()`
- **Shared Data**: Global props available on all pages (auth user, app name, etc.)

### Authentication Flow
- **Guest Routes**: Login, register, password reset (middleware: `guest`)
- **Authenticated Routes**: Dashboard, settings (middleware: `auth`, `verified`)
- **2FA**: Enabled with confirmation required (see `FortifyServiceProvider`)

### Asset Pipeline
- **Vite**: Handles both client and SSR builds
- **Laravel Mix**: Not used - pure Vite configuration
- **Hot Reload**: Enabled for development with Laravel Vite plugin

## Common Patterns to Follow

1. **Route Usage**: Always import route helpers from `@/routes` for type safety
2. **Form Actions**: Use Wayfinder-generated actions for consistent form handling
3. **Error Display**: Use `<InputError>` component for form field errors
4. **Loading States**: Access `processing` state from form context for loading UI
5. **Auth Layouts**: Choose appropriate auth layout variant based on page design needs
